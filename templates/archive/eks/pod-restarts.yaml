id: eks-pod-restarts
name: "EKS Pod Restart Rate High"
description: "Alert when pods in EKS cluster are restarting frequently"
service: eks
severity: warning

data_sources:
  prometheus:
    metric: kube_pod_container_status_restarts_total
    query: 'sum by(cluster, namespace, pod) (increase(kube_pod_container_status_restarts_total[1h]))'

defaults:
  threshold: 5
  threshold_operator: gt
  evaluation_interval: 5m
  for_duration: 10m

labels:
  service: eks
  category: stability

annotations:
  summary: "High pod restart rate in EKS cluster {{ $labels.resource_name }}"
  description: "Pods in EKS cluster {{ $labels.resource_name }} have restarted {{ $value }} times in the last hour"

customizable:
  - threshold
  - evaluation_interval
  - for_duration
  - labels
  - contact_point
